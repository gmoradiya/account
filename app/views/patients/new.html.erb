

<h1 class="form-title">New Patient</h1>

<%= form_with(model: @patient, local: true) do |form| %>
  <% if @patient.errors.any? %>
    <div class="errors">
      <h2><%= pluralize(@patient.errors.count, "error") %> prohibited this patient from being saved:</h2>
      <ul>
        <% @patient.errors.full_messages.each do |message| %>
          <li><%= message %></li>
        <% end %>
      </ul>
    </div>
  <% end %>

  <div class="form-group">
    <%= form.label :name, class: 'label' %>
    <%= form.text_field :name, class: 'input-field' %>
  </div>

  <div class="form-group">
    <%= form.label :address, class: 'label' %>
    <%= form.text_field :address, class: 'input-field' %>
  </div>

  <div class="form-group">
    <%= form.label :phone_number, class: 'label' %>
    <%= form.text_field :phone_number, class: 'input-field' %>
  </div>

  <div class="form-group">
    <%= form.label :case_number, @patient.generate_case_number, class: 'label' %>
    <%= form.text_field :case_number, class: 'input-field' %>
  </div>

  <div class="form-group">
    <%= form.label :date_of_birth, class: 'label' %>
    <%= form.date_field :date_of_birth, class: 'input-field' %>
  </div>

  <div class="form-group">
    <%= form.label :patient_type, class: 'label' %>
    <%= form.select :patient_type, ['Acute', 'Chronic'], {}, {class: "input-field"} %>
  </div>

  <div class="form-group">
    <%= form.label :weight, class: 'label' %>
    <%= form.number_field :weight, class: "input-field" %>
  </div>


  <div class="form-group">
    <%= form.label :occupation, class: 'label' %>
    <%= form.text_field :occupation, class: "input-field" %>
  </div>

  <div class="form-group">
    <%= form.label :sex, class: 'label' %>
    <%= form.select :sex, ['Male', 'Female'], {}, {class: "input-field"} %>
  </div>

  <div class="form-group">
    <%= form.label :reference_by, class: 'label' %>
    <%= form.number_field :reference_by, class: "input-field" %>
  </div>
    
  <div class="form-group">
    <%= form.label :email, class: 'label' %>
    <%= form.email_field :email, class: 'input-field' %>
  </div>

  <div class="form-group">
    <%= form.label :photo, class: 'label' %>
    <%= form.file_field :photo %>
  </div>
  <div class="form-group">
    <%= form.submit 'Save', class: 'btn btn-primary' %>
  </div>
<% end %>

<%= link_to 'Back', root_path, class: 'btn btn-secondary' %>
